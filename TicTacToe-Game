#include<stdio.h>
#include<stdlib.h>
int matrix[3][3];
void logo(){
printf("==================================================================================");
printf("============================================\n");
printf("\t\t\t\t\t==      == ======  ==      == ======\n");
printf("\t\t\t\t\t  ==  ==   ==  ==    ==  ==   ==  ==\n");
printf("\t\t\t\t\t    ==     ==  ==      ==     ==  ==\n");
printf("\t\t\t\t\t    ==     ==  ==      ==     ==  ==\n");
printf("\t\t\t\t\t  ==  ==   ==  ==    ==  ==   ==  ==\n");
printf("\t\t\t\t\t==      == ======  ==      == ======\n"); 
printf("===========================================");
printf("===================================================================================\n\n");
}

void display(){
    for(int i=0;i<3;i++){
        for(int j=0;j<3;j++){
            printf("| ");
            if(matrix[i][j]==-1)
            printf("%c ",'X');
            else if(matrix[i][j]==-2)
            printf("%c ",'Y');
            else
            printf("%d ",matrix[i][j]);
        }
        printf("|");
        printf("\n");
    }
}

int toss(){
    if((rand())%2){
        printf("Player 1 Have Won the Toss:)\n");
        return 1;
    }
    else{
        printf("Player 2 Have Won the Toss:)\n");
        return 2;
    }
}

int check(){
    
    if(matrix[0][0]==matrix[0][1]&&matrix[0][1]==matrix[0][2]&&matrix[0][1]!=0) return 1;
    else if(matrix[1][0]==matrix[1][1]&&matrix[1][1]==matrix[1][2]&&matrix[1][1]!=0) return 2;
    else if(matrix[2][0]==matrix[2][1]&&matrix[2][1]==matrix[2][2]&&matrix[2][1]!=0) return 3;
    
    else if(matrix[0][0]==matrix[1][0]&&matrix[1][0]==matrix[2][0]&&matrix[1][0]!=0) return 4;
    else if(matrix[0][1]==matrix[1][1]&&matrix[1][1]==matrix[2][1]&&matrix[1][1]!=0) return 5;
    else if(matrix[0][2]==matrix[1][2]&&matrix[1][2]==matrix[2][2]&&matrix[1][2]!=0) return 6;
    
    else if(matrix[0][0]==matrix[1][1]&&matrix[1][1]==matrix[2][2]&&matrix[1][1]!=0) return 7;
    else if(matrix[0][2]==matrix[1][1]&&matrix[1][1]==matrix[2][0]&&matrix[1][1]!=0) return 8;
    else return 0;

}

int TicTacToe(int player,int choice){
    int win=0,place,flag=1;
    if((player==1&&choice==2)||(player==2&&choice==1)) --flag;
    while(!win){
        display();
        printf("Player %d : ",player);
        scanf("%d",&place);
        --place;
        if(flag)
        matrix[place/3][place%3]=-player;
        else
        matrix[place/3][place%3]=-(3-player);
        win=check();
        player=3-player;
    }
    display();
    return 3-player;
}

int main(){
    int player,choice,count=1;
    logo();
    printf("Wanna Toss or Not? 1.'YES' 2.'NO'\n");
    scanf("%d",&choice);
    if(choice==1) 
        player=toss();
    else{
        printf("Who wants to play first? Player 1 or 2?(1/2)\n");
        scanf("%d",&player);
    }
    printf("1.\"x\"\n2.\"o\"\nPlayer %d which symbol do You choose?(1/2)\n",player);
    scanf("%d",&choice);
     for(int i=0;i<3;i++){
        for(int j=0;j<3;j++){ 
            matrix[i][j]=count;
            ++count;
        }
     }
    printf("Player %d has Won the match!!",TicTacToe(player,choice));
    return 0;
}
